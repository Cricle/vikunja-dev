{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Vikunja Webhook Notification Configuration Example",
  "description": "Example configuration file for webhook notifications. Copy to data/configs/{userId}.json",
  
  "userId": "user123",
  
  "providers": [
    {
      "providerType": "pushdeer",
      "enabled": true,
      "settings": {
        "pushkey": "PDU123456789abcdefghijklmnopqrstuvwxyz",
        "endpoint": "https://api2.pushdeer.com/message/push"
      }
    }
  ],
  
  "projectRules": [
    {
      "projectId": "*",
      "enabledEvents": [
        "task.created",
        "task.updated",
        "task.assigned",
        "task.comment.created"
      ],
      "providerType": ""
    },
    {
      "projectId": "42",
      "enabledEvents": [
        "task.created",
        "task.updated",
        "task.deleted",
        "task.assigned",
        "task.comment.created",
        "task.comment.updated",
        "task.comment.deleted",
        "task.attachment.created",
        "task.attachment.deleted"
      ],
      "providerType": "pushdeer"
    }
  ],
  
  "templates": {
    "task.created": {
      "eventType": "task.created",
      "title": "üìù New Task: {{task.title}}",
      "body": "A new task has been created in {{project.title}}\n\nDescription: {{task.description}}\nAssignees: {{assignees}}\nLabels: {{labels}}",
      "format": "Text"
    },
    "task.updated": {
      "eventType": "task.updated",
      "title": "‚úèÔ∏è Task Updated: {{task.title}}",
      "body": "Task in {{project.title}} has been updated\n\nStatus: {{task.done}}\nAssignees: {{assignees}}",
      "format": "Text"
    },
    "task.assigned": {
      "eventType": "task.assigned",
      "title": "üë§ Task Assigned: {{task.title}}",
      "body": "You have been assigned to a task in {{project.title}}\n\nDescription: {{task.description}}\nDue: {{task.dueDate}}",
      "format": "Text"
    },
    "task.comment.created": {
      "eventType": "task.comment.created",
      "title": "üí¨ New Comment on: {{task.title}}",
      "body": "{{user.name}} commented on {{task.title}} in {{project.title}}",
      "format": "Text"
    },
    "project.created": {
      "eventType": "project.created",
      "title": "üìÅ New Project: {{project.title}}",
      "body": "A new project has been created\n\nDescription: {{project.description}}",
      "format": "Text"
    }
  },
  
  "lastModified": "2026-01-27T10:00:00Z",
  
  "_comments": {
    "userId": "Your Vikunja user ID or any unique identifier",
    "providers": "List of notification providers (pushdeer, etc.)",
    "projectRules": "Rules for which events to notify on which projects",
    "projectId": "Use '*' for all projects or specific project ID",
    "enabledEvents": "List of event types to enable for this project",
    "providerType": "Leave empty to use all providers, or specify one",
    "templates": "Custom templates for each event type (optional)",
    "format": "Text or Markdown",
    "availablePlaceholders": [
      "{{task.title}}",
      "{{task.description}}",
      "{{task.id}}",
      "{{task.done}}",
      "{{project.title}}",
      "{{project.id}}",
      "{{project.description}}",
      "{{user.name}}",
      "{{user.username}}",
      "{{user.email}}",
      "{{event.type}}",
      "{{event.timestamp}}",
      "{{event.url}}",
      "{{assignees}}",
      "{{assignee.count}}",
      "{{labels}}",
      "{{label.count}}"
    ],
    "supportedEvents": [
      "task.created",
      "task.updated",
      "task.deleted",
      "task.assigned",
      "task.comment.created",
      "task.comment.updated",
      "task.comment.deleted",
      "task.attachment.created",
      "task.attachment.deleted",
      "task.relation.created",
      "task.relation.deleted",
      "project.created",
      "project.updated",
      "project.deleted",
      "team.member.added",
      "team.member.removed"
    ]
  }
}
